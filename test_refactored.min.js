window.addEventListener("DOMContentLoaded",()=>{let e=Array.from(document.querySelectorAll(".posts .fa-star")),t=document.querySelector("div[class='favoritePosts']"),r=document.querySelector(".postHolder");window.localStorage&&(e.forEach(e=>{e.addEventListener("click",e=>{!function(e){e.classList.contains("far")?function(e){let o=n(e),a=e.querySelector(".fa-star"),l=r.cloneNode(!0);a.classList="fas fa-star",l.id=o.id,l.querySelector(".title").textContent=o.name,l.querySelector(".description").textContent=o.description,l.querySelector(".fa-star").remove(),l.classList.remove("hide"),t.appendChild(l),function(e,t){if(i(e)){let r=JSON.parse(i(e));return r.push(t),void s("favorites",JSON.stringify(r))}s("favorites",`[${JSON.stringify(t)}]`)}("favorites",o)}(e.parentElement):o(e.parentElement)}(e.target)})}),function(){let e=document.querySelector(".posts"),t=i("favorites")?JSON.parse(i("favorites")):[];t&&t.map(t=>{let r=e.querySelector(`#${t.id} .fa-star`);r.classList.remove("far"),r.classList.add("fas")})}(),i("favorites")&&JSON.parse(i("favorites")).map(e=>{let r=document.querySelector(".postHolder").cloneNode(!0);r.id=`${e.id}`,r.querySelector(".title").textContent=e.name,r.querySelector(".description").textContent=e.description,r.classList.remove("postHolder","hide"),t.appendChild(r)}));let o=e=>{e.querySelector(".fa-star").classList="far fa-star",t.querySelector(`#${e.id}`).remove(),function(e,t){let{id:r}=n(t),o=JSON.parse(i(e)).filter(e=>e.id!=r);s(e,JSON.stringify(o))}("favorites",e)};function i(e){return localStorage.getItem(e)}function s(e,t){localStorage.setItem(e,t)}function n(e){return{id:`${e.id}`,name:e.querySelector(".title").textContent,description:e.querySelector(".description").textContent}}});